<div class="alert alert-danger" *ngIf="error">{{error}}</div>

<div *ngIf="movies.length>0 else noMovies">
    <h1 >{{title}}</h1>
    <div class="alert alert-warning" *ngIf="movies.length>0">
        {{movies.length}} film bulundu.
    </div>

    <div class ="mb-3">
        <input type="text" 
        
        class="form-control" 
        [(ngModel)]="filterText" 
        placeholder="Search..." >
        <small class="text-muted" *ngIf="filterText" >Aradiginiz kelime : {{filterText}}</small>
    </div>

    <!-- <ng-template [ngTemplateOutlet]="movieList2"
     [ngTemplateOutletContent]="{movies : popularMovies}">
    </ng-template> -->
    <ng-template [ngTemplateOutlet]="movieList1"></ng-template>
    
</div>
<ng-template class="alert alert-warning" #noMovies>
    Film Bulunamadi.
</ng-template>
<ng-template #movieList1>
    <div class="card mb-3" *ngFor="let movie of movies | movieFilter: filterText">
        <div class="row">
            <div class="col-md-3">
                <img src="/assets/img/{{movie.imageUrl}}" class="img-fluid rounded-start" alt="">
            </div>
            <div class="col-md-9">
                <div class="card-body">
                    <h2 class="card-title">{{movie.title | titlecase}}</h2>
                    <p class="card-text"> {{movie.description | summary: 50}}</p>
                    <!-- <p class="card-text"> {{movie.datePublished | date : 'dd/MM/y' }} </p> -->
                    
                    <div>
                        <button class="btn btn-sm btn-outline-primary">Details</button>
                        <button (click)="addToList($event, movie)" class="btn btn-sm btn-primary ms-1">
                            Add To List
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template  #movieList2 let-filmler="movies">
    <div class="row row-cols-1 row-cols-md-3 g-4 mb-3">
        <div class="col " *ngFor="let item of filmler">
            <div class="card h-100">
                <img src="/assets/img/{{item.imageUrl}}" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">{{item.title}}</h5>
                    <p class="card-text">{{item.description}}</p>
                </div>
            </div>
        </div>
            
    </div>
</ng-template>


<h4>lower-upper-title pipe</h4>
<p>{{'SAmsung S20'}}</p>
<p>{{'SAmsung S20' | lowercase}}</p>
<p>{{'SAmsung S20' | uppercase}}</p>
<p>{{'SAmsung S20' | titlecase}}</p>

<br><br>

<h4>Date pipe</h4>
<p>{{today}}</p>
<p>{{today | date}}</p>
<p>{{today | date: 'fullDate'}}</p>
<p>{{today | date: 'shortTime'}}</p>
<p>{{today | date: 'medium'}}</p>
<p>{{today | date: 'h:mm:ss'}}</p>

<br><br>

<h4>Decimal Pipe</h4>
<p>{{2.3123143546 | number}}</p>
<p>{{2.3123143546 | number : '2.0-3'}}</p>
<p>{{2.3123143546 | number : '4.1-7'}}</p>

<br><br>

<h4>Currency pipe</h4>
<p>{{953 | currency: 'USD'}}</p>
<p>{{953 | currency: 'EUR'}}</p>
<p>{{953 | currency: 'TRY'}}</p>

<br><br>

<h4>Percent pipe</h4>
<p>{{0.259 | percent}}</p>
<p>{{0.0259 | percent}}</p>
<p>{{1.259 | percent : '2.2-4'}}</p>
<p>{{3/4 | percent : '2.2-4'}}</p>
